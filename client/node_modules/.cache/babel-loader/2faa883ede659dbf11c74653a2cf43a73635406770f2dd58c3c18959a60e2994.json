{"ast":null,"code":"import { useRef } from 'react';\nimport raf from \"rc-util/es/raf\";\nimport isFF from '../utils/isFirefox';\nimport useOriginScroll from './useOriginScroll';\nexport default function useFrameWheel(inVirtual, isScrollAtTop, isScrollAtBottom, horizontalScroll,\n/***\r\n * Return `true` when you need to prevent default event\r\n */\nonWheelDelta) {\n  var offsetRef = useRef(0);\n  var nextFrameRef = useRef(null);\n  // Firefox patch\n  var wheelValueRef = useRef(null);\n  var isMouseScrollRef = useRef(false);\n  // Scroll status sync\n  var originScroll = useOriginScroll(isScrollAtTop, isScrollAtBottom);\n  function onWheelY(event) {\n    raf.cancel(nextFrameRef.current);\n    var deltaY = event.deltaY;\n    offsetRef.current += deltaY;\n    wheelValueRef.current = deltaY;\n    // Do nothing when scroll at the edge, Skip check when is in scroll\n    if (originScroll(deltaY)) return;\n    // Proxy of scroll events\n    if (!isFF) {\n      event.preventDefault();\n    }\n    nextFrameRef.current = raf(function () {\n      // Patch a multiple for Firefox to fix wheel number too small\n      // ref: https://github.com/ant-design/ant-design/issues/26372#issuecomment-679460266\n      var patchMultiple = isMouseScrollRef.current ? 10 : 1;\n      onWheelDelta(offsetRef.current * patchMultiple);\n      offsetRef.current = 0;\n    });\n  }\n  function onWheelX(event) {\n    var deltaX = event.deltaX;\n    onWheelDelta(deltaX, true);\n    if (!isFF) {\n      event.preventDefault();\n    }\n  }\n  // Check for which direction does wheel do\n  var wheelDirectionRef = useRef(null);\n  var wheelDirectionCleanRef = useRef(null);\n  function onWheel(event) {\n    if (!inVirtual) return;\n    // Wait for 2 frame to clean direction\n    raf.cancel(wheelDirectionCleanRef.current);\n    wheelDirectionCleanRef.current = raf(function () {\n      wheelDirectionRef.current = null;\n    }, 2);\n    var deltaX = event.deltaX,\n      deltaY = event.deltaY;\n    var absX = Math.abs(deltaX);\n    var absY = Math.abs(deltaY);\n    if (wheelDirectionRef.current === null) {\n      wheelDirectionRef.current = horizontalScroll && absX > absY ? 'x' : 'y';\n    }\n    if (wheelDirectionRef.current === 'x') {\n      onWheelX(event);\n    } else {\n      onWheelY(event);\n    }\n  }\n  // A patch for firefox\n  function onFireFoxScroll(event) {\n    if (!inVirtual) return;\n    isMouseScrollRef.current = event.detail === wheelValueRef.current;\n  }\n  return [onWheel, onFireFoxScroll];\n}","map":{"version":3,"names":["useRef","raf","isFF","useOriginScroll","useFrameWheel","inVirtual","isScrollAtTop","isScrollAtBottom","horizontalScroll","onWheelDelta","offsetRef","nextFrameRef","wheelValueRef","isMouseScrollRef","originScroll","onWheelY","event","cancel","current","deltaY","preventDefault","patchMultiple","onWheelX","deltaX","wheelDirectionRef","wheelDirectionCleanRef","onWheel","absX","Math","abs","absY","onFireFoxScroll","detail"],"sources":["E:/snapbliss/projectinstaverse/client/node_modules/rc-virtual-list/es/hooks/useFrameWheel.js"],"sourcesContent":["import { useRef } from 'react';\r\nimport raf from \"rc-util/es/raf\";\r\nimport isFF from '../utils/isFirefox';\r\nimport useOriginScroll from './useOriginScroll';\r\nexport default function useFrameWheel(inVirtual, isScrollAtTop, isScrollAtBottom, horizontalScroll,\r\n/***\r\n * Return `true` when you need to prevent default event\r\n */\r\nonWheelDelta) {\r\n  var offsetRef = useRef(0);\r\n  var nextFrameRef = useRef(null);\r\n  // Firefox patch\r\n  var wheelValueRef = useRef(null);\r\n  var isMouseScrollRef = useRef(false);\r\n  // Scroll status sync\r\n  var originScroll = useOriginScroll(isScrollAtTop, isScrollAtBottom);\r\n  function onWheelY(event) {\r\n    raf.cancel(nextFrameRef.current);\r\n    var deltaY = event.deltaY;\r\n    offsetRef.current += deltaY;\r\n    wheelValueRef.current = deltaY;\r\n    // Do nothing when scroll at the edge, Skip check when is in scroll\r\n    if (originScroll(deltaY)) return;\r\n    // Proxy of scroll events\r\n    if (!isFF) {\r\n      event.preventDefault();\r\n    }\r\n    nextFrameRef.current = raf(function () {\r\n      // Patch a multiple for Firefox to fix wheel number too small\r\n      // ref: https://github.com/ant-design/ant-design/issues/26372#issuecomment-679460266\r\n      var patchMultiple = isMouseScrollRef.current ? 10 : 1;\r\n      onWheelDelta(offsetRef.current * patchMultiple);\r\n      offsetRef.current = 0;\r\n    });\r\n  }\r\n  function onWheelX(event) {\r\n    var deltaX = event.deltaX;\r\n    onWheelDelta(deltaX, true);\r\n    if (!isFF) {\r\n      event.preventDefault();\r\n    }\r\n  }\r\n  // Check for which direction does wheel do\r\n  var wheelDirectionRef = useRef(null);\r\n  var wheelDirectionCleanRef = useRef(null);\r\n  function onWheel(event) {\r\n    if (!inVirtual) return;\r\n    // Wait for 2 frame to clean direction\r\n    raf.cancel(wheelDirectionCleanRef.current);\r\n    wheelDirectionCleanRef.current = raf(function () {\r\n      wheelDirectionRef.current = null;\r\n    }, 2);\r\n    var deltaX = event.deltaX,\r\n      deltaY = event.deltaY;\r\n    var absX = Math.abs(deltaX);\r\n    var absY = Math.abs(deltaY);\r\n    if (wheelDirectionRef.current === null) {\r\n      wheelDirectionRef.current = horizontalScroll && absX > absY ? 'x' : 'y';\r\n    }\r\n    if (wheelDirectionRef.current === 'x') {\r\n      onWheelX(event);\r\n    } else {\r\n      onWheelY(event);\r\n    }\r\n  }\r\n  // A patch for firefox\r\n  function onFireFoxScroll(event) {\r\n    if (!inVirtual) return;\r\n    isMouseScrollRef.current = event.detail === wheelValueRef.current;\r\n  }\r\n  return [onWheel, onFireFoxScroll];\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}