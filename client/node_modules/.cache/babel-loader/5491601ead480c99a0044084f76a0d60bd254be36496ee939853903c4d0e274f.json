{"ast":null,"code":"var _jsxFileName = \"E:\\\\project\\\\client\\\\src\\\\components\\\\Story\\\\Story.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport { Card, Tooltip, Typography, Image } from \"antd\";\nimport { EditOutlined, DeleteTwoTone, HeartTwoTone } from \"@ant-design/icons\";\nimport styles from './styles';\nimport moment from 'moment';\nimport { useDispatch } from \"react-redux\";\nimport { deleteStory, likeStory } from \"../../actions/stories\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst {\n  Meta\n} = Card;\nconst {\n  Link,\n  Paragraph,\n  Text\n} = Typography;\n\n// function Story({story,setSelectedId }){\n//     const dispatch=useDispatch();\n//     const [expand,setExpand]=useState(true);\n//     return (\n//        <Card \n//        style={styles.card}\n//        cover={<Image src={story.image}/>}\n//         actions={[\n//             <div style={styles.actions}>\n//                 <Tooltip \n//             placement='top'\n//             title='Like'\n//             color='magenta'\n//             onClick={()=>{}}\n//             >\n//                 <HeartTwoTone twoToneColor=\"magenta\"/>\n//                 &nbsp; {story.likes} &nbsp;\n//             </Tooltip>\n//             </div>,\n//             <Tooltip \n//             placement='top'\n//             title='Edit'\n//             >\n//                 <EditOutlined onClick={()=>{\n//                     setSelectedId(story._id);\n//                     console.log(story._id);\n//                 }}/>\n//             </Tooltip>,\n//             <Tooltip \n//             placement='top'\n//             title='Delete'\n//             color='red'\n//             >\n//                 <DeleteTwoTone twoToneColor=\"red\" onClick={()=>{\n//                     dispatch(deleteStory(story._id))\n//                 }}/>\n//             </Tooltip>\n//         ]}\n//         >\n//             <Meta title={story.username} />\n//       <Paragraph\n//         style={{ margin: 0 }}\n//         ellipsis={{\n//           rows: 2,\n//           expandable: true,\n//           symbol: \"more\",\n//           onExpand: () => {\n//             setExpand(true);\n//           },\n//           onEllipsis: () => {\n//             setExpand(false);\n//           }\n//         }}\n//       >\n//         {story.caption} \n//       </Paragraph>\n//       {expand ?\n//         <Link href=\"#\">{story.tags.split(\" \").map((tag) => `#${tag} `)}</Link>\n//         : null }\n//         <br />\n//         <Text type=\"secondary\">{moment(story.postDate).fromNow()}</Text>\n//     </Card>\n//     )\n// }\n// export default Story;\nfunction Story({\n  story,\n  setSelectedId\n}) {\n  _s();\n  var _user$result;\n  const dispatch = useDispatch();\n  const [expand, setExpand] = useState(true);\n  const user = JSON.parse(localStorage.getItem(\"profile\"));\n  const cardActions = [/*#__PURE__*/_jsxDEV(\"div\", {\n    style: styles.actions,\n    children: /*#__PURE__*/_jsxDEV(Tooltip, {\n      placement: \"top\",\n      title: \"Like\",\n      color: \"magenta\",\n      onClick: () => {\n        dispatch(likeStory(story._id));\n      },\n      children: [/*#__PURE__*/_jsxDEV(HeartTwoTone, {\n        twoToneColor: \"magenta\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 9\n      }, this), \"\\xA0 \", story.likes.length, \" \\xA0\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 84,\n    columnNumber: 5\n  }, this), /*#__PURE__*/_jsxDEV(Tooltip, {\n    placement: \"top\",\n    title: \"Edit\",\n    children: /*#__PURE__*/_jsxDEV(EditOutlined, {\n      onClick: () => {\n        setSelectedId(story._id);\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 95,\n    columnNumber: 5\n  }, this), /*#__PURE__*/_jsxDEV(Tooltip, {\n    placement: \"top\",\n    title: \"Delete\",\n    color: \"red\",\n    children: /*#__PURE__*/_jsxDEV(DeleteTwoTone, {\n      twoToneColor: \"red\",\n      onClick: () => dispatch(deleteStory(story._id))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 103,\n    columnNumber: 5\n  }, this)];\n  return /*#__PURE__*/_jsxDEV(Card, {\n    style: styles.card,\n    cover: /*#__PURE__*/_jsxDEV(Image, {\n      src: story.image\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 14\n    }, this),\n    actions: (user === null || user === void 0 ? void 0 : (_user$result = user.result) === null || _user$result === void 0 ? void 0 : _user$result._id) === (story === null || story === void 0 ? void 0 : story.userId) ? cardActions : user !== null && user !== void 0 && user.result ? cardActions.slice(0, 1) : null,\n    children: [/*#__PURE__*/_jsxDEV(Meta, {\n      title: story.username\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Paragraph, {\n      style: {\n        margin: 0\n      },\n      ellipsis: {\n        rows: 2,\n        expandable: true,\n        symbol: \"more\",\n        onExpand: () => {\n          setExpand(true);\n        },\n        onEllipsis: () => {\n          setExpand(false);\n        }\n      },\n      children: story.caption\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 7\n    }, this), expand ? /*#__PURE__*/_jsxDEV(Link, {\n      href: \"#\",\n      children: story.tags.split(\" \").map(tag => `#${tag} `)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 9\n    }, this) : null, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Text, {\n      type: \"secondary\",\n      children: moment(story.postDate).fromNow()\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 113,\n    columnNumber: 5\n  }, this);\n}\n_s(Story, \"5CkP8AJCO6/OJqRz4Iz4Cbtxkgg=\", false, function () {\n  return [useDispatch];\n});\n_c = Story;\nexport default Story;\nvar _c;\n$RefreshReg$(_c, \"Story\");","map":{"version":3,"names":["React","useState","Card","Tooltip","Typography","Image","EditOutlined","DeleteTwoTone","HeartTwoTone","styles","moment","useDispatch","deleteStory","likeStory","jsxDEV","_jsxDEV","Meta","Link","Paragraph","Text","Story","story","setSelectedId","_s","_user$result","dispatch","expand","setExpand","user","JSON","parse","localStorage","getItem","cardActions","style","actions","children","placement","title","color","onClick","_id","twoToneColor","fileName","_jsxFileName","lineNumber","columnNumber","likes","length","card","cover","src","image","result","userId","slice","username","margin","ellipsis","rows","expandable","symbol","onExpand","onEllipsis","caption","href","tags","split","map","tag","type","postDate","fromNow","_c","$RefreshReg$"],"sources":["E:/project/client/src/components/Story/Story.js"],"sourcesContent":["import React,{useState} from \"react\";\r\nimport {Card, Tooltip,Typography,Image} from \"antd\";\r\nimport {EditOutlined,DeleteTwoTone,HeartTwoTone} from \"@ant-design/icons\";\r\nimport styles from './styles';\r\nimport moment from 'moment';\r\nimport { useDispatch } from \"react-redux\";\r\nimport { deleteStory,likeStory } from \"../../actions/stories\";\r\n\r\nconst {Meta}=Card;\r\nconst {Link,Paragraph,Text}=Typography;\r\n\r\n// function Story({story,setSelectedId }){\r\n//     const dispatch=useDispatch();\r\n//     const [expand,setExpand]=useState(true);\r\n//     return (\r\n//        <Card \r\n//        style={styles.card}\r\n//        cover={<Image src={story.image}/>}\r\n//         actions={[\r\n//             <div style={styles.actions}>\r\n//                 <Tooltip \r\n//             placement='top'\r\n//             title='Like'\r\n//             color='magenta'\r\n//             onClick={()=>{}}\r\n//             >\r\n//                 <HeartTwoTone twoToneColor=\"magenta\"/>\r\n//                 &nbsp; {story.likes} &nbsp;\r\n//             </Tooltip>\r\n//             </div>,\r\n//             <Tooltip \r\n//             placement='top'\r\n//             title='Edit'\r\n//             >\r\n//                 <EditOutlined onClick={()=>{\r\n//                     setSelectedId(story._id);\r\n//                     console.log(story._id);\r\n//                 }}/>\r\n//             </Tooltip>,\r\n//             <Tooltip \r\n//             placement='top'\r\n//             title='Delete'\r\n//             color='red'\r\n//             >\r\n//                 <DeleteTwoTone twoToneColor=\"red\" onClick={()=>{\r\n//                     dispatch(deleteStory(story._id))\r\n//                 }}/>\r\n//             </Tooltip>\r\n//         ]}\r\n//         >\r\n//             <Meta title={story.username} />\r\n//       <Paragraph\r\n//         style={{ margin: 0 }}\r\n//         ellipsis={{\r\n//           rows: 2,\r\n//           expandable: true,\r\n//           symbol: \"more\",\r\n//           onExpand: () => {\r\n//             setExpand(true);\r\n//           },\r\n//           onEllipsis: () => {\r\n//             setExpand(false);\r\n//           }\r\n//         }}\r\n//       >\r\n//         {story.caption} \r\n//       </Paragraph>\r\n//       {expand ?\r\n//         <Link href=\"#\">{story.tags.split(\" \").map((tag) => `#${tag} `)}</Link>\r\n//         : null }\r\n//         <br />\r\n//         <Text type=\"secondary\">{moment(story.postDate).fromNow()}</Text>\r\n//     </Card>\r\n//     )\r\n// }\r\n// export default Story;\r\nfunction Story({ story, setSelectedId }) {\r\n  const dispatch = useDispatch();\r\n  const [expand, setExpand] = useState(true);\r\n\r\n  const user = JSON.parse(localStorage.getItem(\"profile\"));\r\n\r\n  const cardActions = [\r\n    <div style={styles.actions}>\r\n      <Tooltip\r\n        placement='top'\r\n        title='Like'\r\n        color='magenta'\r\n        onClick={() => { dispatch(likeStory(story._id)) }}\r\n      >\r\n        <HeartTwoTone twoToneColor=\"magenta\" />\r\n        &nbsp; {story.likes.length} &nbsp;\r\n      </Tooltip>\r\n    </div>,\r\n    <Tooltip\r\n      placement='top'\r\n      title='Edit'\r\n    >\r\n      <EditOutlined onClick={() => {\r\n        setSelectedId(story._id);\r\n      }} />\r\n    </Tooltip>,\r\n    <Tooltip\r\n      placement='top'\r\n      title='Delete'\r\n      color='red'\r\n    >\r\n      <DeleteTwoTone twoToneColor=\"red\" onClick={() => dispatch(deleteStory(story._id))} />\r\n    </Tooltip>\r\n  ];\r\n\r\n  return (\r\n    <Card\r\n      style={styles.card}\r\n      cover={<Image src={story.image} />}\r\n      actions={\r\n        user?.result?._id === story?.userId ?\r\n          cardActions :\r\n          user?.result ?\r\n            cardActions.slice(0, 1)\r\n            : null\r\n      }\r\n    >\r\n      <Meta title={story.username} />\r\n      <Paragraph\r\n        style={{ margin: 0 }}\r\n        ellipsis={{\r\n          rows: 2,\r\n          expandable: true,\r\n          symbol: \"more\",\r\n          onExpand: () => {\r\n            setExpand(true);\r\n          },\r\n          onEllipsis: () => {\r\n            setExpand(false);\r\n          }\r\n        }}\r\n      >\r\n        {story.caption}\r\n      </Paragraph>\r\n      {expand ?\r\n        <Link href=\"#\">{story.tags.split(\" \").map((tag) => `#${tag} `)}</Link>\r\n        : null }\r\n        <br />\r\n        <Text type=\"secondary\">{moment(story.postDate).fromNow()}</Text>\r\n    </Card>\r\n  )\r\n}\r\n\r\nexport default Story;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}